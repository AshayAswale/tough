#### Team - WPI - Space Robotics Challenge
<description - coming soon>

#### Prerequisites

* Ubuntu 14.04
* Ros Indigo
* Gazebo 7
* MoveIt!


##### Ubuntu 14.04
To install Ubuntu on a PC that is already running Windows 10, install a bootable version of Ubuntu onto a USB flash drive. 

[complete ubuntu.com tutorial](https://help.ubuntu.com/community/Installation/FromUSBStick)

[creating bootable Ubuntu USB flash drive tutorial](http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-ubuntu)

Turn off your PC and plug in the USB flash drive and enter the BIOS settings (usually by holding F2 or F8 on startup) to boot to the bootlable Ubuntu on the USB before booting Windows on your hard drive.

[booting from Ubuntu USB flash drive tutorial](https://help.ubuntu.com/community/Installation/FromUSBStick#UEFI)

Open the Ubuntu "Install Ubuntu 14.04" link, and follow the steps. You mostly hit "Continue" through the GUI provided. Google anything you get stuck on. Be sure not to erase your Windows partition!
When Ubuntu is successfully installed on a seperate partition from your Windows 10 installation, when you boot up you should see a "GRUB" intereface that lets you select between Ubuntu and Windows.

##### ROS Indigo
```bash
sudo sh -c '. /etc/lsb-release && echo "deb http://mirror.umd.edu/packages.ros.org/ros/ubuntu $DISTRIB_CODENAME main" > /etc/apt/sources.list.d/ros-latest.list'
wget https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -O - | sudo apt-key add -
sudo apt-get update
sudo apt-get install ros-indigo-desktop-full
```

##### Troubleshooting
Make sure that your WiFi is properly set up. If you are on campus, you will have to go through the WPI-Wireless-Setup again. Once you are connected to WPI-Wireless, click the WiFi logo at the top-right of Ubuntu, then clikc "Edit Connections" and delete the old WPI-Wireless-Setup or else you will get faulty WiFi signals will you switch back and forth between the two networks.

Check that your video card is properly installed by typing `lspci -v` and finding your GPU information.


##### Gazebo 7 Installation

```bash
sudo sh -c 'echo "deb http://packages.osrfoundation.org/gazebo/ubuntu trusty main" > /etc/apt/sources.list.d/gazebo-latest.list'
wget http://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -
sudo apt-get update
sudo apt-get install ros-indigo-gazebo7-*
```

##### Additional Packages
* ruby (if you seeing erb related error, install ruby)    

```bash
    sudo apt-get install ruby    
```

* pcl

```bash
    sudo apt-get install ros-indigo-pcl-ros ros-indigo-pcl-conversions
```

* MoveIt!  

```bash
    sudo apt-get install ros-indigo-moveit-full    
```
* Trac_ik 

```bash
    sudo apt-get install ros-indigo-trac-ik
```

#### Setting up workspace
Create catkin workspace. If you already have one, move to the nest step    
```bash
    mkdir -p ~/indigo_ws/src && cd ~/indigo_ws/src
    catkin_init_workspace
    cd ~/indigo_ws
    catkin_make
```

Then add the ROS `setup.bash` file to your stored path.
```bash
echo "source ~/indigo_ws/devel/setup.bash" >> ~/.bashrc
source ~/.bashrc
```

Clone the git repository    
```bash
    git clone https://gitlab.com/whrl/space_robotics_challenge.git ~/indigo_ws/src/space_robotics_challenge
```
@TODO: Create a script that would download and configure the environment

After the code is downloaded, run catkin_make.  
```bash
    cd ~/indigo_ws    
    catkin_make
```

#### Packages
* val_description   
  This package contains the robot model. All the xacro, urdf, dae files of the robot can be found in this package. This code is downloaded from [IHMC's](https://github.com/ihmcrobotics/ihmc-open-robotics-software/tree/develop/Valkyrie/resources/models/val_description) repo.

* val_gazebo    
  This package contains launchers for simulation in gazebo. It also hosts the world files along with additional plugins written for various tasks.

* val_moveit/val_moveit_config
  This package contains moveit configuration files with "trac_ik" solver for Valkyrie generated by MoveIt! setup assistant. This can be used for motion planning tasks. The robot groups and poses can be edited by editing this package in moveit_setup_assistant.
  Refer [MoveIt! tutorials](http://docs.ros.org/indigo/api/moveit_tutorials/html/) and [Trac_ik](https://bitbucket.org/traclabs/trac_ik) for more details.
* val_moveit/val_moveit_tasks
  This package conatains tasks that can be performed using MoveIt! code API.
